include admin.head.pug

.contain.search.maps
	.wrap

		.navbar

			.controls
				a.new New Map

			form.filters
				input(type="Search", placeholder="Search Map", autofocus, name="name", autocomplete="off", value= (filters.name))

		if maps
			.table
				.row.head
					each n, key in maps
						each v, k in n

							if(k === 'id')
								.item.id ID

							else if(k === 'activity')
								.item(data-column="activity") Last Seen

							else
								.item(
									data-column= k
								)= k

						- break

				each n, key in maps
					.row.entry
						each v, k in n

							if(k === 'id')
								.item.id
									a(
										href='/admin/maps/' + v
									)= v

							else if(k === 'name')
								.item.name(
									data-column= k
								)
									a(
										href='/admin/maps/' + maps[key].id
									)= v

							else if(k === 'public' || k === 'disabled' || k === 'onboard')
								.item(
									data-column= k
								)
									if(v === true)
										<svg><use xlink:href="#tick"></use></svg>

							else
								.item(
									data-column= k
								)!= v
